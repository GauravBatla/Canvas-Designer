(()=>{"use strict";var e={529:(e,n,t)=>{t.d(n,{Z:()=>o});const o=function(){const e=this;e.iframe=null;let n={line:!0,arrow:!0,pencil:!0,dragSingle:!0,dragMultiple:!0,eraser:!0,rectangle:!0,arc:!0,bezier:!0,quadratic:!0,text:!0,image:!0,pdf:!0,marker:!0,zoom:!0,lineWidth:!0,colorsPicker:!0,extraOptions:!0,code:!0};e.icons={line:null,arrow:null,pencil:null,dragSingle:null,dragMultiple:null,eraser:null,rectangle:null,arc:null,bezier:null,quadratic:null,text:null,image:null,pdf:null,pdf_next:null,pdf_prev:null,pdf_close:null,marker:null,zoom:null,lineWidth:null,colorsPicker:null,extraOptions:null,code:null};let t="pencil",o=function(e){},a=function(e){},l=function(){};function i(n){if(n.data&&n.data.uid===e.uid){if(!n.data.sdp)return n.data.canvasDesignerSyncData?(e.pointsLength=n.data.canvasDesignerSyncData.points.length,void o(n.data.canvasDesignerSyncData)):void(n.data.dataURL&&a(n.data.dataURL));webrtcHandler.createAnswer(n.data,(function(n){n.sdp?e.postMessage(n):l(n.stream)}))}}e.uid=function(){if(window.crypto&&window.crypto.getRandomValues&&-1===navigator.userAgent.indexOf("Safari")){const e=window.crypto.getRandomValues(new Uint32Array(3));let n="";for(let t=0,o=e.length;t<o;t++)n+=e[t].toString(36);return n}return(Math.random()*(new Date).getTime()).toString(36).replace(/\./g,"")}(),e.appendTo=function(o,a){a=a||function(){},e.iframe=document.createElement("iframe"),e.iframe.onload=function(){a(),a=null},e.iframe.src=e.widgetHtmlURL+"?widgetJsURL="+e.widgetJsURL+"&tools="+JSON.stringify(n)+"&selectedIcon="+t+"&icons="+JSON.stringify(e.icons),e.iframe.style.width="100%",e.iframe.style.height="100%",e.iframe.style.border=0,window.removeEventListener("message",i),window.addEventListener("message",i,!1),o.appendChild(e.iframe)},e.destroy=function(){e.iframe&&(e.iframe.parentNode.removeChild(e.iframe),e.iframe=null),window.removeEventListener("message",i)},e.addSyncListener=function(e){o=e},e.syncData=function(n){e.iframe&&e.postMessage({canvasDesignerSyncData:n})},e.setTools=function(e){n=e},e.setSelected=function(e){void 0!==n[e]&&(t=e)},e.toDataURL=function(n,t){a=t,e.iframe&&e.postMessage({genDataURL:!0,format:n})},e.sync=function(){e.iframe&&e.postMessage({syncPoints:!0})},e.pointsLength=0,e.undo=function(t){e.iframe&&("string"==typeof t&&n[t]?e.postMessage({undo:!0,tool:t}):e.postMessage({undo:!0,index:t||e.pointsLength-1||-1}))},e.postMessage=function(n){e.iframe&&(n.uid=e.uid,e.iframe.contentWindow.postMessage(n,"*"))},e.captureStream=function(n){e.iframe&&(l=n,e.postMessage({captureStream:!0}))},e.clearCanvas=function(){e.iframe&&e.postMessage({clearCanvas:!0})},e.renderStream=function(){e.iframe&&e.postMessage({renderStream:!0})},e.widgetHtmlURL="widget.html",e.widgetJsURL="widget.min.js"}}},n={};function t(o){if(n[o])return n[o].exports;var a=n[o]={exports:{}};return e[o](a,a.exports,t),a.exports}t.d=(e,n)=>{for(var o in n)t.o(n,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:n[o]})},t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),(()=>{const e=new(t(529).Z);e.widgetHtmlURL="widget.html",e.widgetJsURL="widget.min.js",e.addSyncListener((function(e){d.send(e)})),e.setSelected("pencil"),e.setTools({pencil:!0,text:!0,image:!0,pdf:!0,eraser:!0,line:!0,arrow:!0,dragSingle:!0,dragMultiple:!0,arc:!0,rectangle:!0,quadratic:!0,bezier:!0,marker:!0,zoom:!1,lineWidth:!0,colorsPicker:!0,extraOptions:!0,code:!0,undo:!0}),e.appendTo(document.getElementById("widget-container")),Array.prototype.slice.call(document.getElementById("action-controls").querySelectorAll("input[type=checkbox]")).forEach((function(n){n.onchange=function(){e.destroy(),e.addSyncListener((function(e){d.send(e)}));const n={};Array.prototype.slice.call(document.getElementById("action-controls").querySelectorAll("input[type=checkbox]")).forEach((function(e){e.checked&&(n[e.id]=!0)})),e.setTools(n),e.appendTo(document.getElementById("widget-container"))}}));const n=document.getElementById("undo-options");document.getElementById("btn-display-undo-popup").onclick=function(){document.getElementById("light").style.display="block",document.getElementById("fade").style.display="block"};const o=document.getElementById("number-of-shapes-to-undo");function a(){document.getElementById("light").style.display="none",document.getElementById("fade").style.display="none",n.onchange()}function l(n){n=n||function(){};const t=i.value;e.toDataURL(t||"image/png",(function(e){c.style="margin-left: 10px;display: block;text-align: center;margin-bottom: -50px;",c.href=e,c.innerHTML="Click to Download Image",c.download="image."+(t||"image/png").split("/")[1],n(e,t)}))}o.onkeyup=function(){localStorage.setItem("number-of-shapes-to-undo",o.value)},localStorage.getItem("number-of-shapes-to-undo")&&(o.value=localStorage.getItem("number-of-shapes-to-undo"),o.onkeyup()),n.onchange=function(){o.parentNode.style.display="none","Specific Range"===n.value||"Last Multiple"===n.value&&(o.parentNode.style.display="block"),localStorage.setItem("undo-options",n.value)},n.onclick=n.onchange,localStorage.getItem("undo-options")&&(n.value=localStorage.getItem("undo-options"),n.onchange()),document.getElementById("btn-undo").onclick=function(){if("All Shapes"===n.value)e.undo("all");else if("Specific Range"===n.value)e.undo({specificRange:{start:-1,end:-1}});else if("Last Shape"===n.value)e.undo(-1);else if("Last Multiple"===n.value){let n=o.value;n=parseInt(n||0)||0,e.undo({numberOfLastShapes:n})}a()},document.getElementById("btn-close-undo-popup").onclick=a,document.getElementById("btn-close-dataURL-popup").onclick=function(){document.getElementById("dataURL-popup").style.display="none",document.getElementById("fade").style.display="none",i.onchange()},document.getElementById("export-as-image").onclick=function(){c.innerHTML=c.href=c.style="",document.getElementById("dataURL-popup").style.display="block",document.getElementById("fade").style.display="block",l()};var i=document.getElementById("data-url-format"),c=document.getElementById("link-to-image");function s(e){document.getElementById("comments-popup").style.display="block",document.getElementById("fade").style.display="block"}i.onchange=function(){localStorage.setItem("data-url-format",i.value),l()},i.onclick=i.onchange,localStorage.getItem("data-url-format")&&(i.value=localStorage.getItem("data-url-format"),i.onchange()),document.getElementById("btn-getDataURL").onclick=function(){l((function(e,n){window.open(e)}))},document.getElementById("btn-close-comments-popup").onclick=function(){document.getElementById("comments-popup").style.display="none",document.getElementById("fade").style.display="none",i.onchange()},document.getElementById("btn-comments").onclick=s,location.hash.length&&-1!==location.hash.indexOf("comment")&&s();var d=new RTCMultiConnection;if(d.socketURL="https://rtcmulticonnection.herokuapp.com:443/",d.socketMessageEvent="canvas-designer",d.enableFileSharing=!1,d.session={audio:!0,video:!0,data:!0},d.sdpConstraints.mandatory={OfferToReceiveAudio:!0,OfferToReceiveVideo:!0},d.dontCaptureUserMedia=!0,location.hash.replace("#","").length){const e=location.hash.replace("#","");d.join(e)}d.onUserStatusChanged=function(e){const n=document.getElementById("hide-on-datachannel-opened");"online"==e.status&&(n.innerHTML=e.userid+" is <b>online</b>."),"offline"==e.status&&(n.innerHTML=e.userid+" is <b>offline</b>."),r.innerHTML=d.getAllParticipants().length};var r=document.getElementById("number-of-connected-users");d.onopen=function(n){document.getElementById("hide-on-datachannel-opened").innerHTML="<b>"+n.userid+"</b> is ready to collaborate with you.",e.pointsLength<=0&&setTimeout((function(){d.send("plz-sync-points")}),1e3),r.innerHTML=d.getAllParticipants().length,d.isInitiator&&setTimeout((function(){e.renderStream()}),1e3)},d.onclose=d.onerror=d.onleave=function(){r.innerHTML=d.getAllParticipants().length},d.onmessage=function(n){"plz-sync-points"!==n.data?e.syncData(n.data):e.sync()};const u=document.querySelector("video");d.onstream=function(e){d.isInitiator&&e.mediaElement||(u.style.display="",u.srcObject=e.stream,document.getElementById("select-tools").style.display="none")},d.onstreamended=function(){u.src=null,u.style.display="none"}})()})();